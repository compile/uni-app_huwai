<view class="data-v-1818758a"><view class="info-box data-v-1818758a"><view class="user-item data-v-1818758a"><image src="{{postDetail.userInfo.avatar}}" data-event-opts="{{[['tap',[['jumpUser',['$0'],['postDetail.uid']]]]]}}" bindtap="__e" class="data-v-1818758a"></image><view class="user-item-user data-v-1818758a"><text class="user-name data-v-1818758a">{{postDetail.userInfo.username}}</text><view class="cxplain data-v-1818758a">{{postDetail.userInfo.intro}}</view></view><u-button data-custom-hidden="{{!(postDetail.is_follow)}}" style="float:right;font-size:14px;" vue-id="4539fb2f-1" size="mini" data-event-opts="{{[['^click',[['cancelFollow']]]]}}" bind:click="__e" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}">已关注</u-button><u-button data-custom-hidden="{{!(!postDetail.is_follow)}}" style="float:right;font-size:14px;" vue-id="4539fb2f-2" size="mini" data-event-opts="{{[['^click',[['follow']]]]}}" bind:click="__e" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}">关注</u-button></view><view class="icon data-v-1818758a"><text class="data-v-1818758a">{{$root.f0}}</text></view><view class="hr data-v-1818758a"></view><view class="post-title data-v-1818758a">{{postDetail.title}}</view><rich-text class="post-text data-v-1818758a" nodes="{{postDetail.content}}" data-event-opts="{{[['longpress',[['onCopy',['$event']]]]]}}" bindlongpress="__e"></rich-text><block wx:if="{{postDetail.type==1}}"><block class="data-v-1818758a"><block wx:if="{{postDetail.media.length==1}}"><block class="data-v-1818758a"><image class="img-style-1 data-v-1818758a" mode="aspectFill" data-current="{{postDetail.media[0]}}" data-image="{{postDetail.media}}" src="{{postDetail.media[0]}}" data-event-opts="{{[['tap',[['previewImage',['$event']]]]]}}" catchtap="__e"></image></block></block><block wx:if="{{postDetail.media.length==2}}"><block class="data-v-1818758a"><view class="img-style-2 data-v-1818758a"><block wx:for="{{postDetail.media}}" wx:for-item="mediaItem" wx:for-index="index2" wx:key="index2"><image mode="aspectFill" data-current="{{mediaItem}}" data-image="{{postDetail.media}}" src="{{mediaItem}}" data-event-opts="{{[['tap',[['previewImage',['$event']]]]]}}" catchtap="__e" class="data-v-1818758a"></image></block></view></block></block><block wx:if="{{postDetail.media.length>2}}"><block class="data-v-1818758a"><view class="img-style-3 data-v-1818758a"><block wx:for="{{postDetail.media}}" wx:for-item="mediaItem" wx:for-index="index2" wx:key="index2"><image mode="aspectFill" data-current="{{mediaItem}}" data-image="{{postDetail.media}}" src="{{mediaItem}}" data-event-opts="{{[['tap',[['previewImage',['$event']]]]]}}" catchtap="__e" class="data-v-1818758a"></image></block></view></block></block></block></block><block wx:if="{{postDetail.type==2&&postDetail.media.length>0}}"><block class="data-v-1818758a"><video controls="{{false}}" autoplay="{{true}}" src="{{postDetail.media[0]}}" class="data-v-1818758a"></video></block></block><block wx:if="{{postDetail.type===4}}"><view class="vote-box data-v-1818758a"><view class="title data-v-1818758a">{{postDetail.vote_info.title}}</view><block wx:if="{{postDetail.vote_info.type===1}}"><view class="expire-time data-v-1818758a">单选</view></block><block wx:if="{{postDetail.vote_info.type===2}}"><view class="expire-time data-v-1818758a">多选</view></block><block wx:if="{{isVoteExpire}}"><view class="expire-box data-v-1818758a">投票过期了</view></block><block wx:else><view class="expire-time data-v-1818758a">{{"截止："+$root.f1}}</view></block><block wx:for="{{postDetail.vote_info.options}}" wx:for-item="item2" wx:for-index="index2" wx:key="index2"><view data-event-opts="{{[['tap',[['castVote',[index2,'$0'],['postDetail.vote_info.type']]]]]}}" class="{{['vote-item','data-v-1818758a',(item2.checked)?'active':'']}}" bindtap="__e"><block wx:if="{{postDetail.is_vote_result||isVoteExpire}}"><text class="data-v-1818758a">{{item2.content}}<text style="color:#999;margin-left:20rpx;" class="data-v-1818758a">{{"("+item2.ticket_num+"票)"}}</text></text></block><block wx:else><text class="data-v-1818758a">{{item2.content}}</text></block></view></block><block wx:if="{{!postDetail.is_vote_result&&isVoteExpire===false}}"><q-button bind:click="__e" vue-id="4539fb2f-3" data-event-opts="{{[['^click',[['voteSubmit']]]]}}" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}">投票</q-button></block></view></block><navigator class="topic-info data-v-1818758a" url="{{'/pages/topic/detail?id='+postDetail.topic_id}}"><image class="cover data-v-1818758a" mode="aspectFill" src="{{postDetail.topic_info.cover_image}}"></image><view class="center data-v-1818758a"><view class="desc data-v-1818758a">{{$root.g0}}</view><view class="count-txt data-v-1818758a">{{postDetail.topicInfo.user_count+"人加圈 | "+postDetail.topicInfo.post_count+"篇内容"}}</view></view><view class="right data-v-1818758a"><text class="data-v-1818758a">去看看</text><u-icon vue-id="4539fb2f-4" name="arrow-right" class="data-v-1818758a" bind:__l="__l"></u-icon></view></navigator><view class="p-footer data-v-1818758a"><block wx:if="{{postDetail.is_collection}}"><block class="data-v-1818758a"><view data-event-opts="{{[['tap',[['cancelCollection',['$event']]]]]}}" class="p-item data-v-1818758a" bindtap="__e"><text class="iconfont icon-lujing data-v-1818758a" style="color:#d81e06;"></text><text class="data-v-1818758a">{{postDetail.collection_count}}</text></view></block></block><block wx:else><block class="data-v-1818758a"><view data-event-opts="{{[['tap',[['addCollection',['$event']]]]]}}" class="p-item data-v-1818758a" bindtap="__e"><text class="iconfont icon-shoucang data-v-1818758a"></text><text class="data-v-1818758a">{{postDetail.collection_count}}</text></view></block></block><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="p-item data-v-1818758a" bindtap="__e"><text class="iconfont icon-pinglun data-v-1818758a"></text><text class="data-v-1818758a">{{postDetail.comment_count}}</text></view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="p-item data-v-1818758a" bindtap="__e"><text class="iconfont icon-forward data-v-1818758a"></text><text class="data-v-1818758a">分享</text></view></view></view><view class="comment-box data-v-1818758a"><view class="title data-v-1818758a">{{"评论（"+commentList.length+"）"}}</view><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="margin-bottom:40rpx;" class="data-v-1818758a"><view data-event-opts="{{[['longpress',[['delComment',['$0',index],[[['commentList','',index]]]]]]]}}" class="comment-item data-v-1818758a" bindlongpress="__e"><image class="avatar data-v-1818758a" src="{{item.$orig.userInfo.avatar}}" data-event-opts="{{[['tap',[['jumpUser',['$0'],[[['commentList','',index,'userInfo.uid']]]]]]]}}" bindtap="__e"></image><view data-event-opts="{{[['tap',[['onReply',['$0'],[[['commentList','',index]]]]]]]}}" class="c-content data-v-1818758a" bindtap="__e"><view class="user data-v-1818758a"><text class="data-v-1818758a">{{item.$orig.userInfo.username}}</text><block wx:if="{{item.$orig.is_thumbs}}"><block class="data-v-1818758a"><view data-event-opts="{{[['tap',[['cancelThumbs',['$0',index],[[['commentList','',index,'id']]]]]]]}}" class="thumbs data-v-1818758a" catchtap="__e"><text class="num data-v-1818758a">{{item.$orig.thumbs}}</text><u-icon class="icon data-v-1818758a" vue-id="{{'4539fb2f-5-'+index}}" size="40" name="heart-fill" color="#e62e00" bind:__l="__l"></u-icon></view></block></block><block wx:else><block class="data-v-1818758a"><view data-event-opts="{{[['tap',[['onThumbs',['$0',index],[[['commentList','',index,'id']]]]]]]}}" class="thumbs data-v-1818758a" catchtap="__e"><text class="num data-v-1818758a">{{item.$orig.thumbs}}</text><u-icon class="icon data-v-1818758a" vue-id="{{'4539fb2f-6-'+index}}" size="40" name="heart-fill" color="#bfbfbf" bind:__l="__l"></u-icon></view></block></block></view><text class="c-txt data-v-1818758a">{{item.$orig.content}}</text><text class="time data-v-1818758a">{{item.f2}}</text></view></view><block wx:for="{{item.l0}}" wx:for-item="item2" wx:for-index="index2" wx:key="id"><block wx:if="{{item.$orig.children.length>0}}"><view data-event-opts="{{[['longpress',[['delComment',['$0',index,index2],[[['commentList','',index]]]]]],['tap',[['onReply',['$0',index,index2],[[['commentList','',index],['children','id',item2.$orig.id]]]]]]]}}" class="sub-comment-item data-v-1818758a" bindlongpress="__e" bindtap="__e"><view class="user data-v-1818758a"><u-avatar class="avatar data-v-1818758a" vue-id="{{'4539fb2f-7-'+index+'-'+index2}}" size="{{40}}" src="{{item2.$orig.userInfo.avatar}}" bind:__l="__l"></u-avatar><view class="u-head data-v-1818758a"><text class="data-v-1818758a">{{item2.$orig.userInfo.username}}</text><block wx:if="{{item2.$orig.is_thumbs}}"><block class="data-v-1818758a"><view data-event-opts="{{[['tap',[['cancelThumbs',['$0',index,index2],[[['commentList','',index],['children','id',item2.$orig.id,'id']]]]]]]}}" class="thumbs data-v-1818758a" catchtap="__e"><text class="num data-v-1818758a">{{item2.$orig.thumbs}}</text><u-icon class="icon data-v-1818758a" vue-id="{{'4539fb2f-8-'+index+'-'+index2}}" size="40" name="heart-fill" color="#e62e00" bind:__l="__l"></u-icon></view></block></block><block wx:else><block class="data-v-1818758a"><view data-event-opts="{{[['tap',[['onThumbs',['$0',index,index2],[[['commentList','',index],['children','id',item2.$orig.id,'id']]]]]]]}}" class="thumbs data-v-1818758a" catchtap="__e"><text class="num data-v-1818758a">{{item2.$orig.thumbs}}</text><u-icon class="icon data-v-1818758a" vue-id="{{'4539fb2f-9-'+index+'-'+index2}}" size="40" name="heart-fill" color="#bfbfbf" bind:__l="__l"></u-icon></view></block></block></view></view><view class="reply data-v-1818758a"><text class="data-v-1818758a">回复</text><navigator class="name data-v-1818758a" url="{{'/pages/user/home?uid='+item2.$orig.to_user.uid}}" hover-class="none">{{item2.$orig.to_user.username}}</navigator><text class="data-v-1818758a">{{"："+item2.$orig.content}}</text><view class="time data-v-1818758a">{{item2.f3}}</view></view></view></block></block></view></block><block wx:if="{{commentList.length>0}}"><block class="data-v-1818758a"><view style="margin:30rpx;" class="data-v-1818758a"><u-loadmore vue-id="4539fb2f-10" status="{{loadStatus}}" class="data-v-1818758a" bind:__l="__l"></u-loadmore></view></block></block><block wx:else><block class="data-v-1818758a"><u-empty vue-id="4539fb2f-11" text="暂无评论" mode="message" class="data-v-1818758a" bind:__l="__l"></u-empty></block></block></view><view style="height:100rpx;" class="data-v-1818758a"></view><view class="comment-tool data-v-1818758a"><textarea placeholder="{{placeholder}}" focus="{{focus}}" fixed="true" cursor-spacing="10" auto-height="true" placeholder-class="txt-placeholder" data-event-opts="{{[['blur',[['onBlur',['$event']]]],['input',[['__set_model',['$0','content','$event',[]],['form']]]]]}}" value="{{form.content}}" bindblur="__e" bindinput="__e" class="data-v-1818758a"></textarea><u-button style="border-radius:0;" vue-id="4539fb2f-12" type="warning" disabled="{{isSubmitD}}" data-event-opts="{{[['^click',[['addComment']]]]}}" bind:click="__e" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}">发布</u-button></view><q-popup bind:input="__e" vue-id="4539fb2f-13" height="240rpx" value="{{showShare}}" data-event-opts="{{[['^input',[['__set_model',['','showShare','$event',[]]]]]]}}" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="share-wrap data-v-1818758a" bindtap="__e"><button class="share-item u-reset-button data-v-1818758a" open-type="share"><image src="/static/wechat.png" class="data-v-1818758a"></image><text class="data-v-1818758a">微信好友</text></button><view data-event-opts="{{[['tap',[['shareCanvas',['$event']]]]]}}" class="share-item data-v-1818758a" bindtap="__e"><image src="/static/img.png" class="data-v-1818758a"></image><text class="data-v-1818758a">分享海报</text></view></view></q-popup><u-popup bind:input="__e" vue-id="4539fb2f-14" mode="center" width="80%" value="{{showCanvas}}" data-event-opts="{{[['^input',[['__set_model',['','showCanvas','$event',[]]]]]]}}" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}"><view class="canvas-box data-v-1818758a"><canvas style="width:300px;height:450px;" canvas-id="shareCanvas" class="data-v-1818758a"></canvas><view class="footer data-v-1818758a"><u-button vue-id="{{('4539fb2f-15')+','+('4539fb2f-14')}}" custom-style="{{shareBtnStyle}}" type="success" shape="circle" data-event-opts="{{[['^click',[['saveImgToAlbum']]]]}}" bind:click="__e" class="data-v-1818758a" bind:__l="__l" vue-slots="{{['default']}}">保存/分享</u-button></view></view></u-popup></view>