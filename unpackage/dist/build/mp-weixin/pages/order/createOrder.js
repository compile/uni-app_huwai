(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/createOrder","components/share"],{"08ba":function(t,e,r){"use strict";var a;r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement;t._self._c},o=[]},"3b84":function(t,e,r){"use strict";var a=r("7c9e"),n=r.n(a);n.a},"52b1":function(t,e,r){"use strict";r.r(e);var a=r("b4e8"),n=r.n(a);for(var o in a)"default"!==o&&function(t){r.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"71e3":function(t,e,r){},"7c9e":function(t,e,r){},"86aa":function(t,e,r){"use strict";var a=r("71e3"),n=r.n(a);n.a},"8d8e":function(t,e,r){"use strict";r.r(e);var a=r("a6da"),n=r("52b1");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("3b84");var s,i=r("f0c5"),c=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=c.exports},a6da:function(t,e,r){"use strict";var a;r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement;t._self._c},o=[]},ace7:function(t,e,r){"use strict";r.r(e);var a=r("08ba"),n=r("bd62");for(var o in n)"default"!==o&&function(t){r.d(e,t,(function(){return n[t]}))}(o);r("86aa");var s,i=r("f0c5"),c=Object(i["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=c.exports},b4e8:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={data:function(){return{transform:"translateY(50vh)",timer:0,backgroundColor:"rgba(0,0,0,0)",show:!1,config:{}}},props:{contentHeight:{type:Number,default:0},hasTabbar:{type:Boolean,default:!1},shareList:{type:Array,default:function(){return[]}}},created:function(){var e=t.upx2px(this.contentHeight)+"px";this.config={height:e,transform:"translateY(".concat(e,")"),backgroundColor:"rgba(0,0,0,.4)"},this.transform=this.config.transform},methods:{toggleMask:function(){var e=this;if(1!=this.timer){if(this.timer=1,setTimeout((function(){e.timer=0}),500),this.show)return this.transform=this.config.transform,this.backgroundColor="rgba(0,0,0,0)",void setTimeout((function(){e.show=!1,e.hasTabbar&&t.showTabBar()}),200);this.show=!0,this.hasTabbar?t.hideTabBar({success:function(){setTimeout((function(){e.backgroundColor=e.config.backgroundColor,e.transform="translateY(0px)"}),10)}}):setTimeout((function(){e.backgroundColor=e.config.backgroundColor,e.transform="translateY(0px)"}),10)}},stopPrevent:function(){},shareToFriend:function(t){this.$api.msg("分享给".concat(t)),this.toggleMask()}}};e.default=r}).call(this,r("543d")["default"])},b665:function(t,e,r){"use strict";(function(t){r("251e");a(r("66fd"));var e=a(r("ace7"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=r,t(e.default)}).call(this,r("543d")["createPage"])},bd62:function(t,e,r){"use strict";r.r(e);var a=r("cc0a"),n=r.n(a);for(var o in a)"default"!==o&&function(t){r.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},cc0a:function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r("a34a")),n=(o(r("72de")),o(r("8d8e")),r("26cb"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,r,a,n,o,s){try{var i=t[o](s),c=i.value}catch(u){return void r(u)}i.done?e(c):Promise.resolve(c).then(a,n)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(a,n){var o=t.apply(e,r);function i(t){s(o,a,n,i,c,"next",t)}function c(t){s(o,a,n,i,c,"throw",t)}i(void 0)}))}}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={data:function(){return{maskState:0,desc:"",payType:1,from:1,cartindex:[],cartList:[],glist:[],mobile:"",startTime:"",couponList:[{title:"新用户专享优惠券",price:5},{title:"庆五一发一波优惠券",price:10},{title:"优惠券优惠券优惠券优惠券",price:15}],orderlist:[],addressData:[],total:""}},onLoad:function(t){var e=JSON.parse(t.data);console.log("onLoad"),console.log(e.goodsData),this.loadOrder(e)},computed:u({},(0,n.mapState)(["hasLogin","userInfo","hasCart","cartInfo","hasCart"])),methods:u(u({},(0,n.mapMutations)(["login","clearCartAll","editCart","setOrder"])),{},{toggleMask:function(t){var e=this,r="show"===t?10:300,a="show"===t?1:0;this.maskState=2,setTimeout((function(){e.maskState=a}),r)},numberChange:function(t){this.number=t.number},changePayType:function(t){this.payType=t},submit:function(){var e=this;return i(a.default.mark((function r(){var n,o,s,i,c,u,d,l,f;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.addressData,o=e.orderlist,s=e.total,i=e.mobile,c=e.desc,console.log("address"),console.log(e.addressData),e.addressData.address){r.next=10;break}return e.$alert("别忘了选地址哦"),r.abrupt("return");case 10:if(e.mobile){r.next=13;break}return e.$alert("电话号码留着好联系哦,我们将提前与您联系"),r.abrupt("return");case 13:return u=e.userInfo,d=e.startTime,l={order:o,address:n,total:s,userInfo:u,mobile:i,desc:c,startTime:d},console.log("sendData"),console.log(l),r.next=20,e.$myRequest({url:"/api/order/buildGroupOrder",method:"post",data:l});case 20:if(f=r.sent,console.log("buildOrder"),1!=f.data.error){r.next=25;break}return e.$alert(f.data.msg),r.abrupt("return");case 25:if(0!=f.data.error){r.next=30;break}return e.setOrder(f.data.res),e.$alert(f.data.msg),t.redirectTo({url:"/pages/order/orderDesc?id="+f.data.url}),r.abrupt("return");case 30:return console.log(f.data.res),r.abrupt("return");case 33:case"end":return r.stop()}}),r)})))()},loadOrder:function(t){var e=this;return i(a.default.mark((function r(){var n,o;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("createOrder:"),console.log(JSON.stringify(t)),r.next=4,e.$myRequest({url:"/api/order/createGroupOrder",method:"post",data:JSON.stringify(t)});case 4:n=r.sent,console.log("createOrder"),console.log(n.data),console.log("ok"),console.log(n.data.startTime),e.startTime=n.data.startTime,e.from=n.data.from,e.cartindex=n.data.cartindex,console.log("cartindex:"+JSON.stringify(n.data.cartindex)),e.orderlist=n.data.res,o=JSON.parse(n.data.res.goodslist),e.glist=[],o.forEach((function(t){e.glist.push(t)})),e.total=n.data.res.price,n.data.address&&(e.addressData=n.data.address);case 20:case"end":return r.stop()}}),r)})))()},stopPrevent:function(){}})};e.default=l}).call(this,r("543d")["default"])}},[["b665","common/runtime","common/vendor"]]]);